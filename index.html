<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>منصة MCRN - بث مباشر واستراحة</title>

  <!-- Google Fonts -->
  <link 
    href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" 
    rel="stylesheet"
  />

  <!-- Font Awesome -->
  <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  />

  <!-- Video.js CSS -->
  <link href="https://vjs.zencdn.net/8.5.2/video-js.css" rel="stylesheet" />

  <!-- التنسيقات المخصصة -->
  <style>
    :root {
      --bg-color: #0d1117;
      --primary-color: #1f6feb;
      --hover-color: #ff9900;
      --text-color: #c9d1d9;
      --font-family: 'Cairo', sans-serif;
      --button-hover-color: #ff6f00;
      --button-color: #1e40af;
    }

    body {
      margin: 0;
      font-family: var(--font-family);
      background: var(--bg-color);
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      transition: background 0.5s;
    }

    /* شريط التنقل */
    nav {
      width: 100%;
      position: fixed;
      top: 0;
      right: 0;
      left: 0;
      background: rgba(13, 17, 23, 0.95);
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      transition: all 0.5s ease;
    }
    nav .logo {
      font-size: 26px;
      font-weight: 700;
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    /* أيقونة القائمة للشاشات الصغيرة */
    .menu-toggle {
      display: none;
      font-size: 24px;
      background: none;
      border: none;
      color: var(--text-color);
      cursor: pointer;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 25px;
      padding: 0;
      margin: 0;
      align-items: center;
      transition: max-height 0.5s ease;
    }
    nav ul li {
      display: inline-block;
    }
    nav ul li a {
      color: var(--text-color);
      text-decoration: none;
      font-size: 18px;
      font-weight: 600;
      padding: 10px 18px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    nav ul li a:hover,
    nav ul li a.active {
      background: var(--hover-color);
      color: var(--bg-color);
      transform: scale(1.1);
    }

    /* الأقسام */
    .section {
      margin-top: 80px; /* لإفساح مجال تحت شريط التنقل */
      text-align: center;
      padding: 20px;
      display: none;
      animation: fadeIn 0.6s ease-out;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
    }
    .section.active {
      display: block;
    }
    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    /* حاوية الفيديو (قناة 1) */
    .video-container {
      position: relative;
      width: 100%;
      max-width: 1200px;
      margin: 20px auto;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.7);
      background: #000;
      display: none; /* افتراضيًا مخفي (القناة 2 هي الافتراضية) */
    }
    .video-container::before {
      content: "";
      display: block;
      padding-top: 56.25%; /* نسبة أبعاد 16:9 */
    }
    .video-container > .video-js {
      position: absolute;
      top: 0;
      left: 0;
      width: 100% !important;
      height: 100% !important;
      object-fit: cover;
    }
    .video-container:hover {
      transform: scale(1.01);
      transition: transform 0.3s ease;
    }

    /* حاوية iframe (قناة 2) */
    .iframe-container {
      position: relative;
      width: 100%;
      max-width: 1200px;
      margin: 20px auto;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.7);
      background: #000;
      display: none; /* إفتراضيًا مخفي */
    }
    .iframe-container iframe {
      width: 100%;
      height: 600px;
      border: 0;
      display: block;
    }

    /* أزرار التحكم (قناة 1) */
    .custom-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    .button {
      padding: 12px 30px;
      background: var(--button-color);
      color: var(--text-color);
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 5px 10px rgba(31, 111, 235, 0.3);
      transition: all 0.3s ease, transform 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .button:hover {
      background: var(--button-hover-color);
      transform: translateY(-3px);
    }
    .button i {
      font-size: 20px;
    }

    /* القنوات */
    .channels-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      padding: 20px;
    }
    .channel-card {
      background: rgba(31, 111, 235, 0.2);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .channel-card:hover {
      background: rgba(255, 153, 0, 0.8);
    }
    .channel-card h3 {
      margin: 10px 0;
      color: var(--primary-color);
    }

    /* الاستراحة */
    .rest-iframe {
      position: relative;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.7);
      background: #000;
    }
    .rest-iframe iframe {
      width: 100%;
      height: 600px;
      border: none;
      display: block;
      /* يمكن إضافة السماح للتشغيل التلقائي أو غيره */
      /* مثل: allow="autoplay; encrypted-media" */
    }

    /* التذييل */
    footer {
      margin-top: auto;
      text-align: center;
      background: rgba(13, 17, 23, 0.95);
      padding: 15px;
      font-size: 14px;
      color: var(--text-color);
    }
    footer a {
      color: var(--primary-color);
      text-decoration: none;
    }
    footer a:hover {
      text-decoration: underline;
    }

    /* للشاشات الصغيرة */
    @media (max-width: 768px) {
      .iframe-container iframe,
      .rest-iframe iframe {
        height: 400px; 
      }
      .custom-buttons .button {
        padding: 10px 20px;
        font-size: 14px;
      }
    }
    @media (max-width: 600px) {
      nav ul {
        position: absolute;
        top: 60px;
        right: 20px;
        background: rgba(13, 17, 23, 0.95);
        flex-direction: column;
        gap: 0;
        border-radius: 8px;
        padding: 0;
        max-height: 0;
        overflow: hidden;
      }
      nav ul li {
        width: 100%;
      }
      nav ul li a {
        display: block;
        padding: 10px 18px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }
      .menu-toggle {
        display: block;
      }
      nav ul.show {
        max-height: 500px; 
        transition: max-height 0.5s ease;
      }
    }
  </style>
</head>
<body>
  <!-- شريط التنقل -->
  <nav>
    <div class="logo">
      <i class="fas fa-tv"></i>
      MCRN
    </div>
    <!-- زر القائمة للشاشات الصغيرة -->
    <button class="menu-toggle" id="toggleMenuBtn">
      <i class="fas fa-bars"></i>
    </button>
    <ul id="navList">
      <li><a href="#" id="linkHome" class="active">البث المباشر</a></li>
      <li><a href="#" id="linkChannels">القنوات</a></li>
      <li><a href="#" id="linkRest">الاستراحة</a></li>
      <li><a href="#" id="linkAbout">عن المطور</a></li>
    </ul>
  </nav>

  <!-- قسم البث المباشر -->
  <div id="homeSection" class="section active">
    <h1>مرحبًا بك في منصة MCRN للبث المباشر!</h1>

    <!-- قناة 1 (Video.js) -->
    <div class="video-container" id="videoContainer">
      <video
        id="videoPlayer"
        class="video-js vjs-big-play-centered"
        controls
        preload="auto"
        muted
        playsinline
        poster="https://via.placeholder.com/1200x600/000000/FFFFFF/?text=MCRN+LIVE"
      >
        <source src="" type="video/mp4" />
        متصفحك لا يدعم تشغيل الفيديو.
      </video>
    </div>

    <!-- قناة 2 (iframe) -->
    <div class="iframe-container" id="iframeContainer">
      <iframe 
        src="https://b.naba24.net/albaplayer/ssc-1/?serv=0" 
        scrolling="auto"
        allowfullscreen="true"
      ></iframe>
    </div>

    <!-- أزرار التحكم بقناة 1 فقط -->
    <div class="custom-buttons" id="videoControls">
      <button class="button" id="rewindBtn">
        <i class="fas fa-backward"></i> إرجاع 10 ثوانٍ
      </button>
      <button class="button" id="playPauseBtn">
        <i class="fas fa-play"></i> تشغيل/إيقاف
      </button>
      <button class="button" id="forwardBtn">
        <i class="fas fa-forward"></i> تقديم 10 ثوانٍ
      </button>
    </div>

    <!-- أزرار اختيار القناة -->
    <h2 style="margin-top: 40px;">اختر قناة البث:</h2>
    <div class="custom-buttons">
      <button class="button" data-channel="1">القناة 1 (Video.js)</button>
      <button class="button" data-channel="2">القناة 2 (iframe)</button>
    </div>
  </div>

  <!-- قسم القنوات -->
  <div id="channelsSection" class="section">
    <h1>القنوات المفضلة</h1>
    <div class="channels-grid">
      <div class="channel-card" data-channel="1">
        <h3>القناة 1</h3>
        <button class="button watch-btn" data-channel="1">مشاهدة</button>
      </div>
      <div class="channel-card" data-channel="2">
        <h3>القناة 2</h3>
        <button class="button watch-btn" data-channel="2">مشاهدة</button>
      </div>
    </div>
  </div>

  <!-- الاستراحة -->
  <div id="restSection" class="section">
    <h1>استمتع بوقتك في صفحة الاستراحة</h1>
    <div class="rest-iframe">
      <iframe
        src="https://www.technomaster.pro/emby/web/index.html"
        scrolling="auto"
        allowfullscreen="true"
      ></iframe>
    </div>
  </div>

  <!-- عن المطور -->
  <div id="aboutSection" class="section">
    <h1>عن المطور</h1>
    <p>تم تصميم هذه المنصة بواسطة المهندس خالد النضاري.</p>
    <p>جميع الحقوق محفوظة 2026 MCRN.</p>
  </div>

  <!-- تذييل الصفحة -->
  <footer>
    <p>
      © 2026 MCRN. جميع الحقوق محفوظة. تصميم
      <a href="#">المهندس خالد النضاري</a>.
    </p>
  </footer>

  <!-- Video.js -->
  <script src="https://vjs.zencdn.net/8.5.2/video.min.js"></script>

  <!-- أكواد جافاسكربت -->
  <script>
    //===============================
    // 1) تهيئة مشغل الفيديو
    //===============================
    const player = videojs('videoPlayer');

    // دالة تفعيل قناة 1 (Video.js)
    function loadChannel1() {
      // إظهار مشغل الفيديو
      document.getElementById('videoContainer').style.display = 'block';
      // إخفاء iframe
      document.getElementById('iframeContainer').style.display = 'none';
      // إظهار أزرار التحكم
      document.getElementById('videoControls').style.display = 'flex';

      // توقف الفيديو أولًا
      player.pause();
      // ضبط المصدر
      player.src({
        src: 'https://vjs.zencdn.net/v/oceans.mp4', 
        type: 'video/mp4'
      });
      // محاولة التشغيل
      player.play().catch(err => console.warn('تعذّر تشغيل قناة 1:', err));
    }

    // دالة تفعيل قناة 2 (iframe)
    function loadChannel2() {
      // إخفاء مشغل الفيديو
      document.getElementById('videoContainer').style.display = 'none';
      // إظهار iframe
      document.getElementById('iframeContainer').style.display = 'block';
      // إخفاء أزرار التحكم الخاصة بالفيديو
      document.getElementById('videoControls').style.display = 'none';
    }

    // التبديل بين القناتين
    function switchChannel(num) {
      if (num === 1) {
        loadChannel1();
      } else if (num === 2) {
        loadChannel2();
      }
    }

    // افتراضيًا -> القناة 2 عند تحميل الصفحة
    window.addEventListener('load', () => {
      switchChannel(2);
    });

    //===============================
    // 2) تحكم في فيديو (قناة 1)
    //===============================
    const rewindBtn = document.getElementById('rewindBtn');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const forwardBtn = document.getElementById('forwardBtn');

    rewindBtn.addEventListener('click', () => {
      player.currentTime(Math.max(player.currentTime() - 10, 0));
    });
    playPauseBtn.addEventListener('click', () => {
      if (player.paused()) {
        player.play().catch(err => console.warn('تعذر التشغيل:', err));
      } else {
        player.pause();
      }
    });
    forwardBtn.addEventListener('click', () => {
      player.currentTime(player.currentTime() + 10);
    });

    //===============================
    // 3) أزرار اختيار القناة
    //===============================
    document.querySelectorAll('[data-channel]').forEach(elem => {
      elem.addEventListener('click', () => {
        const channelNum = parseInt(elem.getAttribute('data-channel'));
        // إذا كان ذلك من قسم القنوات -> نعود لقسم البث
        showSection('homeSection', 'linkHome');
        switchChannel(channelNum);
      });
    });

    //===============================
    // 4) التنقل بين الأقسام
    //===============================
    const navList = document.getElementById('navList');

    // أقسام الصفحة
    const sections = {
      'homeSection': document.getElementById('homeSection'),
      'channelsSection': document.getElementById('channelsSection'),
      'restSection': document.getElementById('restSection'),
      'aboutSection': document.getElementById('aboutSection'),
    };

    // روابط الشريط
    document.getElementById('linkHome').addEventListener('click', e => {
      e.preventDefault();
      showSection('homeSection', 'linkHome');
    });
    document.getElementById('linkChannels').addEventListener('click', e => {
      e.preventDefault();
      showSection('channelsSection', 'linkChannels');
    });
    document.getElementById('linkRest').addEventListener('click', e => {
      e.preventDefault();
      showSection('restSection', 'linkRest');
    });
    document.getElementById('linkAbout').addEventListener('click', e => {
      e.preventDefault();
      showSection('aboutSection', 'linkAbout');
    });

    function showSection(sectionId, linkId) {
      // إخفاء جميع الأقسام
      for (const id in sections) {
        sections[id].classList.remove('active');
      }
      // إظهار القسم المطلوب
      sections[sectionId].classList.add('active');

      // تفعيل الرابط المطلوب
      document.querySelectorAll('nav ul li a').forEach(a => a.classList.remove('active'));
      if (linkId) document.getElementById(linkId).classList.add('active');

      // إغلاق القائمة على الشاشات الصغيرة إن كانت مفتوحة
      if (window.innerWidth <= 600) {
        navList.classList.remove('show');
      }
    }

    //===============================
    // 5) زر القائمة (الشاشات الصغيرة)
    //===============================
    const toggleMenuBtn = document.getElementById('toggleMenuBtn');
    toggleMenuBtn.addEventListener('click', () => {
      navList.classList.toggle('show');
    });
  </script>
</body>
</html>